<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Xarray x NASA: xarray.DataTree for hierarchical data structures - Welcome</title><meta property="og:title" content="Xarray x NASA: xarray.DataTree for hierarchical data structures - Welcome"/><meta name="generator" content="mystmd"/><meta name="description" content="How xarray&#x27;s new DataTree feature came about, and thoughts on how public agencies can support the open-source scientific software that they depend on.
"/><meta property="og:description" content="How xarray&#x27;s new DataTree feature came about, and thoughts on how public agencies can support the open-source scientific software that they depend on.
"/><meta name="keywords" content=""/><meta name="image" content="/build/profile-color-circle-7c2e1e5191087ee658b792ad23f702cd.png"/><meta property="og:image" content="/build/profile-color-circle-7c2e1e5191087ee658b792ad23f702cd.png"/><link rel="stylesheet" href="/build/_assets/app-5WKS5EPQ.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Tom Nicholas</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"><div class="relative inline-block mx-2 grow-0"><a class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75" href="/about">About</a></div><div class="relative inline-block mx-2 grow-0"><a class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75" href="/talks">Talks</a></div><div class="relative inline-block mx-2 grow-0"><a aria-current="page" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 border-b border-stone-200" href="/blog">Blog</a></div></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R74op:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"><a class="p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded" href="/about">About</a><a class="p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded" href="/talks">Talks</a><a aria-current="page" class="p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded active" href="/blog">Blog</a></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="Welcome" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">Welcome</a><a title="About me" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/about">About me</a><a title="Talks" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/talks">Talks</a><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Blog" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 active" href="/blog">Blog</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16p8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R16p8p:" class="pl-3 pr-[2px] collapsible-content"><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2025" class="block break-words rounded py-2 grow cursor-pointer">2025</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rr6p8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rr6p8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2024" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">2024</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1b6p8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R1b6p8p:" class="pl-3 pr-[2px] collapsible-content"><a title="Xarray x NASA: xarray.DataTree for hierarchical data structures" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg bg-blue-300/30 active" href="/blog/2024/datatree">Xarray x NASA: xarray.DataTree for hierarchical data structures</a></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2023" class="block break-words rounded py-2 grow cursor-pointer">2023</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1r6p8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1r6p8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2022" class="block break-words rounded py-2 grow cursor-pointer">2022</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2b6p8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2b6p8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2021" class="block break-words rounded py-2 grow cursor-pointer">2021</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2r6p8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2r6p8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2020" class="block break-words rounded py-2 grow cursor-pointer">2020</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R3b6p8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R3b6p8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2019" class="block break-words rounded py-2 grow cursor-pointer">2019</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R3r6p8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R3r6p8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></div></div></nav></div><div class="flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><article class="article content article-grid grid-gap"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://github.com/TomNicholas/tomnicholas.github.io" title="GitHub Repository: TomNicholas/tomnicholas.github.io" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><title>Jupyter Notebook</title><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><a href="https://github.com/TomNicholas/tomnicholas.github.io/blob/main/blog/2024/datatree.md" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8top:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Xarray x NASA: xarray.DataTree for hierarchical data structures</h1><header class="mt-4 not-prose"><div><span class="font-semibold text-sm inline-block"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R78top:" data-state="closed">Tom Nicholas</button><a class="ml-1" href="https://orcid.org/0000-0002-2176-0530" title="ORCID: 0000-0002-2176-0530" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 -translate-y-[0.1em] hover:text-[#A9C751]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span></div></header><div class="flex mt-2 text-sm font-light"><time dateTime="2024-12-19" class="">December 19, 2024</time></div></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><p>(Originally posted on the <a target="_blank" rel="noreferrer" href="https://xarray.dev/blog/datatree" class="">Xarray blog</a>.)</p><h2 id="tl-dr" class="relative group"><span class="heading-text">tl;dr</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#tl-dr" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p><a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable/user-guide/data-structures.html#datatree" class=""><code>xarray.DataTree</code></a> has been <a target="_blank" rel="noreferrer" href="https://github.com/pydata/xarray/discussions/9680" class="">released</a> in <a target="_blank" rel="noreferrer" href="https://github.com/pydata/xarray/releases/tag/v2024.10.0" class="">v2024.10.0</a>, and the prototype <a target="_blank" rel="noreferrer" href="https://github.com/xarray-contrib/datatree" class=""><code>xarray-contrib/datatree</code> repository</a> archived, after collaboration between the xarray team and the <a target="_blank" rel="noreferrer" href="https://www.earthdata.nasa.gov/about/esdis" class="">NASA ESDIS project</a>. 🤝</p><h2 id="why-trees" class="relative group"><span class="heading-text">Why trees?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#why-trees" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The DataTree concept allows for organizing heterogeneous collections of scientific data in the same way that a nested directory structure facilitates organizing large numbers of files on disk. It does so in a way that preserves common structure between data in the collections, such as aligned arrays and common coordinates.</p><p>For those familiar with netCDF4/Zarr groups, a DataTree can also be thought of as an in-memory representation of a file’s group structure. Xarray users have been <a href="https://github.com/pydata/xarray/issues/4118" class="italic" target="_blank" rel="noreferrer" data-state="closed">asking</a> for a way to handle multiple netCDF4 groups <a href="https://github.com/pydata/xarray/issues/1092" class="italic" target="_blank" rel="noreferrer" data-state="closed">since at least 2016</a>!</p><p>DataTree enables xarray to be used for various new use cases, including:</p><ul><li><a target="_blank" rel="noreferrer" href="https://medium.com/pangeo/easy-ipcc-part-1-multi-model-datatree-469b87cf9114" class="">Climate model intercomparisons</a>,</li><li>Multi-scale image pyramids, e.g. in <a target="_blank" rel="noreferrer" href="https://spatialdata.scverse.org/en/latest/design_doc.html" class="">genomics</a>,</li><li>Organising heterogenous data, such as satellite observations and model simulations.</li><li>Simple and convenient access to entire hierarchical files.</li></ul><h2 id="what-is-a-datatree-exactly" class="relative group"><span class="heading-text">What is a DataTree exactly?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-is-a-datatree-exactly" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The new high-level container class <code>xarray.DataTree</code> acts like a tree of linked <code>xarray.Dataset</code> objects, with alignment enforced between arrays in parent and child nodes, but not between those in sibling nodes. It can be written to and opened from formats containing multiple groups, such as netCDF4 files and Zarr stores.</p><p>For more details please see the <a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable/user-guide/data-structures.html#datatree" class="">high-level description</a>, the <a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable/user-guide/hierarchical-data.html" class="">dedicated page on hierarchical data</a>, and the <a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable/user-guide/io.html#groups" class="">section on IO with groups</a> in the xarray documentation.</p><h2 id="deprecation" class="relative group"><span class="heading-text">Deprecation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#deprecation" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>If you previously had used the <code>datatree.DataTree</code> prototype in the <a target="_blank" rel="noreferrer" href="https://github.com/xarray-contrib/datatree" class=""><code>xarray-contrib/datatree</code> repository</a>, that has now been archived and will no longer be supported. Instead we encourage you to migrate to the implementation of <code>DataTree</code> that you can import from xarray, following the <a href="https://github.com/pydata/xarray/blob/main/DATATREE_MIGRATION_GUIDE.md" class="italic" target="_blank" rel="noreferrer" data-state="closed">migration guide</a>.</p><h2 id="big-moves" class="relative group"><span class="heading-text">Big moves</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#big-moves" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>This was a big feature addition! For a <a target="_blank" rel="noreferrer" href="https://github.com/pydata/xarray/discussions/8462" class="">decade</a> there have been 3 core public xarray data structures, now there are 4: <a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable/generated/xarray.Variable.html#xarray.Variable" class=""><code>Variable</code></a>, <a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" class=""><code>DataArray</code></a>, <a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" class=""><code>Dataset</code></a>, and now <a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable/generated/xarray.DataTree.html#xarray.DataTree" class=""><code>DataTree</code></a>.</p><p>Datatree represents arguably one of the largest new features added to xarray in 10 years - the migration of the existing prototype alone added &gt;10k lines of code across <a target="_blank" rel="noreferrer" href="https://github.com/pydata/xarray/pulls?q=is%3Apr+label%3Atopic-DataTree+is%3Aclosed" class="">80 pull requests</a>, and the resulting datatree implementation now contains contributions from at least 25 people.</p><p>We also had to resolve some really <a href="https://github.com/pydata/xarray/pull/9063" class="italic" target="_blank" rel="noreferrer" data-state="closed">gnarly design questions</a> to make it work in a way we were happy with.</p><h2 id="how-did-this-happen" class="relative group"><span class="heading-text">How did this happen?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#how-did-this-happen" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>DataTree didn’t get implemented overnight - it was a multi-year effort that took place in a number of steps, and there are some lessons to be learned from the story.</p><p>In March 2021, the xarray team submitted a <a target="_blank" rel="noreferrer" href="https://zenodo.org/records/5484176" class="">funding proposal</a> to the <a target="_blank" rel="noreferrer" href="https://chanzuckerberg.com/eoss/" class="">Chan-Zuckerberg Initiative</a> to develop “TreeDataset”, citing bioscience use cases such as <a target="_blank" rel="noreferrer" href="https://spatialdata.scverse.org/en/latest/design_doc.html" class="">microscopy image pyramids</a>. Unfortunately whilst we’ve been lucky to <a target="_blank" rel="noreferrer" href="https://chanzuckerberg.com/eoss/proposals/xarray-multidimensional-labeled-arrays-and-datasets-in-python/" class="">receive CZI funding before</a>, on this occasion we didn’t win money to work on the datatree idea.</p><p>In the absence of dedicated funding for datatree, Tom then used some time whilst at the <a target="_blank" rel="noreferrer" href="https://ocean-transport.github.io/cds_lab.html" class="">Climate Data Science Lab</a> at Columbia University to take a initial stab at the design in August 2021 - writing the first implementation on an overnight Amtrak! This simple prototype was released as a separate package in the <a target="_blank" rel="noreferrer" href="https://github.com/xarray-contrib/datatree" class=""><code>xarray-contrib/datatree</code> repository</a>, and steadily gained a small community of intrepid users. It was driven partly by the use case of <a target="_blank" rel="noreferrer" href="https://medium.com/pangeo/easy-ipcc-part-1-multi-model-datatree-469b87cf9114" class="">climate model intercomparison datasets</a>.</p><p>A separate repository was chosen for speed of iteration, and to be able to more easily <a href="https://github.com/xarray-contrib/datatree/blob/7ba05880c37f2371b5174f6e8dcfae31248fe19f/README.md#development-roadmap" class="italic" target="_blank" rel="noreferrer" data-state="closed">make changes</a> without worrying as much about <a href="https://github.com/pydata/xarray/issues/9854" class="italic" target="_blank" rel="noreferrer" data-state="closed">backwards compatibility</a> as code in xarray’s main repo does. However the separate repo meant that the prototype <code>datatree</code> library was not fully integrated with xarray’s main codebase, limiting possible features and requiring fragile dependencies on private xarray internals.</p><p>The prototype then sat there for 2 years, until the NASA ESDIS team approached the xarray core team in August 2023. ESDIS devs wanted the ability to work with entire hierarchical files, and had experimented with the prototype version of datatree, but they wanted datatree functionality to be migrated upstream into xarray’s main repository so there would be more guarantees of long-term API stability and support.</p><p>Amazingly NASA were able to offer the time of 3 engineers: Owen (NASA EOSDIS Evolution and Development 3 (EED-3) contract), Matt (NASA National Snow and Ice Data Center Distributed Active Archive Center (NSIDC)), and Eni (Goddard Earth Sciences Data and Information Services Center (GES DISC)). So starting in late 2023 the NASA trio worked on migrating the prototype datatree into xarray upstream, with regular supervision from Tom, Justus, and Stephan (existing xarray core team).</p><p>This second stage of development allowed us to reduce the bus factor on the datatree code, sanity check the original approach, and it gave us a chance to make some significant improvements to the design without backwards-compatibility concerns (for example enabling the <a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable/user-guide/hierarchical-data.html#alignment-and-coordinate-inheritance" class="">new “coordinate inheritance” feature</a>).</p><h2 id="lessons-for-future-collaborations" class="relative group"><span class="heading-text">Lessons for future collaborations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#lessons-for-future-collaborations" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>This development story is different from the more typical scientific grant funding model - how did that work out for us?</p><p>The scientific grant model for funding software expects you to present a full idea in a proposal, wait 6-12 months to hopefully get funding for it, then implement the whole thing during the grant period. In contrast datatree evolved over a gradual process of moving from ideas to hacky prototype to robust implementation, with big time gaps for user feedback and experimentation. The migration was completed by developer-users who actually wanted the feature, rather than grant awardees working in service of a separate and maybe-only-theoretical userbase.</p><p>Overall while the migration effort took longer than anticipated we think it worked out quite well!</p><h3 id="pros" class="relative group"><span class="heading-text">Pros</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#pros" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><strong>Zero overhead</strong> - the existing xarray team did not to have to write a proposal to get developer time, and there was literally zero paperwork inflicted (on them at least).</li><li><strong>Certainty of funding</strong> - writing grant proposals is a lottery, so the time invested up front doesn’t even come with any certainty of funding. Collaborating with another org has a much higher chance of actually leading to more money being available for developer time.</li><li><strong>Time efficient</strong> - an xarray core dev spending 10% of their time advising someone who is less familiar with the codebase but has more time is an efficient use of relative expertise.</li><li><strong>Bus factor</strong> - the new contributors reduced the bus factor on the datatree code dramatically.</li><li><strong>User-driven Development</strong> - it makes sense to have actual interested user communities involved in development.</li><li><strong>Stakeholder representation</strong> - after officially adding Owen, Matt and Eni to the <a target="_blank" rel="noreferrer" href="https://xarray.dev/team" class="">xarray core team</a>, the NASA ESDIS project has some direct representation in, insider understanding of, and stake in continuing to support the xarray project.</li></ul><h3 id="cons" class="relative group"><span class="heading-text">Cons</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#cons" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><strong>Not everyone got direct funding</strong> - It’s less ideal that Tom, Justus, and Stephan didn’t get direct funding for their supervisory work. In future it might be better to have one of the paid people at the contributing org already be a core xarray team member, or perhaps find some way to pay them as a consultant.</li><li><strong>Tricky to accurately scope</strong> - The duration of required work was tricky to estimate in advance, and we didn’t want to “just ship it”. We hold the xarray project to high standards and backwards compatibility promises so we want to ensure that any publicly released features don’t compromise on quality.</li></ul><p>This contributing model is more similar to how open-source software has historically been supported by industry, but perhaps because xarray is primarily developed and used by the scientific community we tend to default to more grant-based funding models.</p><p>Overall we think this type of collaboration could work again in future! So if there is an xarray or xarray-adjacent feature your organisation would like to see, <strong>please reach out to us</strong>.</p><h2 id="go-try-out-datatree" class="relative group"><span class="heading-text">Go try out DataTree</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#go-try-out-datatree" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Please try datatree out! The hierarchical structure is potentially useful to any xarray users who work with more than one dataset at a time. Simply do <code>from xarray import DataTree</code> or call <a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable/generated/xarray.open_datatree.html" class=""><code>open_datatree(...)</code></a> on a netCDF4 file / Zarr store containing multiple groups.</p><p>Be aware that as <code>xarray.DataTree</code> is still new there will likely be some bugs lurking or places that performance could be improved, as well as as-yet <a target="_blank" rel="noreferrer" href="https://github.com/pydata/xarray/issues?q=is%3Aissue+is%3Aopen+label%3Atopic-DataTree" class="">unimplemented features</a> (as there always are)!</p><h2 id="thanks" class="relative group"><span class="heading-text">Thanks</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#thanks" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>A number of other people also <a target="_blank" rel="noreferrer" href="https://github.com/xarray-contrib/datatree/graphs/contributors" class="">contributed to datatree</a> in various ways - particular shoutout to <a target="_blank" rel="noreferrer" href="https://github.com/aladinor" class="">Alfonso Ladino</a> and <a target="_blank" rel="noreferrer" href="https://github.com/etienneschalk" class="">Etienne Schalk</a> for their dedicated attendance at many of the <a href="https://github.com/pydata/xarray/issues/8747" class="italic" target="_blank" rel="noreferrer" data-state="closed">weekly migration meetings</a>!</p><h2 id="funding-acknowledgements" class="relative group"><span class="heading-text">Funding Acknowledgements</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#funding-acknowledgements" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li>Owen, Eni, and Matt were able to contribute development time as part of the <a target="_blank" rel="noreferrer" href="https://www.earthdata.nasa.gov/about/esdis" class="">NASA ESDIS project</a>.</li><li>Tom was supported first by the Gordon and Betty Moore foundation as part of Ryan Abernathey’s <a target="_blank" rel="noreferrer" href="https://ocean-transport.github.io/cds_lab.html" class="">Climate Data Science Lab</a> at Columbia University, then later by various funders for a fraction of his time through <a target="_blank" rel="noreferrer" href="https://www.cworthy.org/" class="">[C]Worthy</a>.</li></ul><div></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/blog/2025/science-needs-a-social-network"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">2025</div>Science needs a social network for sharing big data</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/blog/2023/cubed-xarray"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">2023</div>Cubed: Bounded-memory serverless array processing in xarray</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></main></article><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-JSE36H2O.js"/><link rel="modulepreload" href="/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-C7FW3E47.js"/><link rel="modulepreload" href="/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-ND43KHSX.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-IB5726YR.js"/><link rel="modulepreload" href="/build/_shared/chunk-NBON2RSI.js"/><link rel="modulepreload" href="/build/routes/$-LXLHKVOR.js"/><script>window.__remixContext = {"url":"/blog/2024/datatree","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.0","options":{"favicon":"/build/profile-color-circle-dc3fbe58bf7039c7f0a48c35b559dc9a.png","logo_text":"Tom Nicholas","folders":true},"nav":[{"title":"About","url":"/about"},{"title":"Talks","url":"/talks"},{"title":"Blog","url":"/blog"}],"actions":[],"projects":[{"abbreviations":{"LF":"The Linux Foundation","JF":"The Jupyter Foundation","JEC":"Jupyter Executive Council","JFB":"The Jupyter Foundation Board","SSC":"Software Steering Council","OSPO":"Open Source Program Office"},"title":"Welcome","thumbnail":"/build/profile-color-circle-7c2e1e5191087ee658b792ad23f702cd.png","authors":[{"id":"tom","nameParsed":{"literal":"Tom Nicholas","given":"Tom","family":"Nicholas"},"name":"Tom Nicholas","orcid":"0000-0002-2176-0530","url":"https://tom-nicholas.com","github":"TomNicholas"}],"github":"https://github.com/TomNicholas/tomnicholas.github.io","references":{"ttw":{"url":"https://book.the-turing-way.org"}},"toc":[{"file":"index.md"},{"file":"about.md"},{"file":"talks.md"},{"children":[{"children":[{"pattern":"blog/2025/**{.ipynb,.md}"}],"title":"2025"},{"children":[{"pattern":"blog/2024/**{.ipynb,.md}"}],"title":"2024"},{"children":[{"pattern":"blog/2023/**{.ipynb,.md}"}],"title":"2023"},{"children":[{"pattern":"blog/2022/**{.ipynb,.md}"}],"title":"2022"},{"children":[{"pattern":"blog/2020/**{.ipynb,.md}"}],"title":"2021"},{"children":[{"pattern":"blog/2020/**{.ipynb,.md}"}],"title":"2020"},{"children":[{"pattern":"blog/2019/**{.ipynb,.md}"}],"title":"2019"}],"file":"blog.md"}],"exports":[],"bibliography":[],"index":"index","pages":[{"slug":"about","title":"About me","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"talks","title":"Talks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"blog","title":"Blog","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"level":2,"title":"2025"},{"slug":"blog.2025.cloud-optimized-scientific-data","title":"Fundamentals: What is Cloud-Optimized Scientific Data?","description":"The article I wish I could have read back when I first heard of Zarr in 2018. Explains how object storage and conventional filesystems are different, and the key properties that make Zarr work so well in cloud object storage.\n","date":"2025-04-17","thumbnail":"/build/hdf5-layout-71275b3a3dff5396e3c059a6ee9efa71.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cloud","zarr","netcdf","earthmover","open-science"],"level":3},{"slug":"blog.2025.science-needs-a-social-network","title":"Science needs a social network for sharing big data","description":"Imagine being able to visit one website, search for any scientific dataset from any institution in the world, preview it, then stream the data out at high speed, in the format you prefer. We have the technology - here's what we should build.\n","date":"2025-01-18","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open-science","frost"],"level":3},{"level":2,"title":"2024"},{"slug":"blog.2024.datatree","title":"Xarray x NASA: xarray.DataTree for hierarchical data structures","description":"How xarray's new DataTree feature came about, and thoughts on how public agencies can support the open-source scientific software that they depend on.\n","date":"2024-12-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","xarray","open-science"],"level":3},{"level":2,"title":"2023"},{"slug":"blog.2023.cubed-xarray","title":"Cubed: Bounded-memory serverless array processing in xarray","description":"Cubed was designed to address the main problems with Dask, so I integrated it with Xarray. \n","date":"2023-06-01","thumbnail":"/build/e35ec725ea00fd2a6250d35dd849930e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","xarray","dask","cubed","open-science"],"level":3},{"slug":"blog.2023.dask-distributed","title":"Dask.distributed and Pangeo: Better performance for everyone thanks to science / software collaboration","description":"Dask's distributed scheduler algorithm got a major fix after we tested its' limits on a huge oceanography analysis problem.\n","date":"2023-01-04","thumbnail":"/build/f8821db67c2a5f1f07b570e6bed342cc.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","dask","open-science"],"level":3},{"level":2,"title":"2022"},{"slug":"blog.2022.easy-ipcc-datatree","title":"Easy IPCC part 1: Multi-Model Datatree","description":"Analysing CMPI6 data as a motivation for xarray DataTree.\n","date":"2022-08-29","thumbnail":"/build/d1061528b3e546e0e4d674dab265d6e2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","xarray","open-science","climate-science","datatree"],"level":3},{"slug":"blog.2022.pint-xarray","title":"Unit-aware arithmetic in Xarray, via pint","description":"All scientific computations involve units, so let's make our analysis software aware of them.\n","date":"2022-08-30","thumbnail":"/build/df49524368335f9010ca432f9849200d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","xarray","pint","open-science","physical-units"],"level":3},{"level":2,"title":"2021"},{"slug":"blog.2020.covid19-model","title":"Coronavirus: The Simplest Model","description":"Solving the simplest possible epidemiological model of the spread of COVID-19.\n","date":"2020-03-20","thumbnail":"/build/SIRD_states-79e33af37731a846467a0f3ded8bf40b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","modelling","covid-19"],"level":3},{"slug":"blog.2020.deep-pseudoscience","title":"The faulty science, doomism, and flawed conclusions of Deep Adaptation","description":"Calling out pseudoscience claiming that societal collapse due to climate change is inevitable. \n","date":"2020-07-14","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["climate-science","misinformation"],"level":3},{"slug":"blog.2020.oxford-divests","title":"Oxford University Divestment Explained","description":"Thought's on Oxford University's fossil fuel divestment motion.\n","date":"2020-04-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["climate","oxford"],"level":3},{"level":2,"title":"2020"},{"slug":"blog.2020.covid19-model-1","title":"Coronavirus: The Simplest Model","description":"Solving the simplest possible epidemiological model of the spread of COVID-19.\n","date":"2020-03-20","thumbnail":"/build/SIRD_states-79e33af37731a846467a0f3ded8bf40b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","modelling","covid-19"],"level":3},{"slug":"blog.2020.deep-pseudoscience-1","title":"The faulty science, doomism, and flawed conclusions of Deep Adaptation","description":"Calling out pseudoscience claiming that societal collapse due to climate change is inevitable. \n","date":"2020-07-14","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["climate-science","misinformation"],"level":3},{"slug":"blog.2020.oxford-divests-1","title":"Oxford University Divestment Explained","description":"Thought's on Oxford University's fossil fuel divestment motion.\n","date":"2020-04-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["climate","oxford"],"level":3},{"level":2,"title":"2019"},{"slug":"blog.2019.theconversation-fusion","title":"Nuclear Fusion: too late for the climate","description":"Don't let politicians use funding for nuclear fusion research as greenwashing.\n","date":"2019-09-30","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["fusion","energy","climate"],"level":3}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"version":2,"myst":"1.6.0","options":{"favicon":"/build/profile-color-circle-dc3fbe58bf7039c7f0a48c35b559dc9a.png","logo_text":"Tom Nicholas","folders":true},"nav":[{"title":"About","url":"/about"},{"title":"Talks","url":"/talks"},{"title":"Blog","url":"/blog"}],"actions":[],"projects":[{"abbreviations":{"LF":"The Linux Foundation","JF":"The Jupyter Foundation","JEC":"Jupyter Executive Council","JFB":"The Jupyter Foundation Board","SSC":"Software Steering Council","OSPO":"Open Source Program Office"},"title":"Welcome","thumbnail":"/build/profile-color-circle-7c2e1e5191087ee658b792ad23f702cd.png","authors":[{"id":"tom","nameParsed":{"literal":"Tom Nicholas","given":"Tom","family":"Nicholas"},"name":"Tom Nicholas","orcid":"0000-0002-2176-0530","url":"https://tom-nicholas.com","github":"TomNicholas"}],"github":"https://github.com/TomNicholas/tomnicholas.github.io","references":{"ttw":{"url":"https://book.the-turing-way.org"}},"toc":[{"file":"index.md"},{"file":"about.md"},{"file":"talks.md"},{"children":[{"children":[{"pattern":"blog/2025/**{.ipynb,.md}"}],"title":"2025"},{"children":[{"pattern":"blog/2024/**{.ipynb,.md}"}],"title":"2024"},{"children":[{"pattern":"blog/2023/**{.ipynb,.md}"}],"title":"2023"},{"children":[{"pattern":"blog/2022/**{.ipynb,.md}"}],"title":"2022"},{"children":[{"pattern":"blog/2020/**{.ipynb,.md}"}],"title":"2021"},{"children":[{"pattern":"blog/2020/**{.ipynb,.md}"}],"title":"2020"},{"children":[{"pattern":"blog/2019/**{.ipynb,.md}"}],"title":"2019"}],"file":"blog.md"}],"exports":[],"bibliography":[],"index":"index","pages":[{"slug":"about","title":"About me","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"talks","title":"Talks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"blog","title":"Blog","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"level":2,"title":"2025"},{"slug":"blog.2025.cloud-optimized-scientific-data","title":"Fundamentals: What is Cloud-Optimized Scientific Data?","description":"The article I wish I could have read back when I first heard of Zarr in 2018. Explains how object storage and conventional filesystems are different, and the key properties that make Zarr work so well in cloud object storage.\n","date":"2025-04-17","thumbnail":"/build/hdf5-layout-71275b3a3dff5396e3c059a6ee9efa71.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cloud","zarr","netcdf","earthmover","open-science"],"level":3},{"slug":"blog.2025.science-needs-a-social-network","title":"Science needs a social network for sharing big data","description":"Imagine being able to visit one website, search for any scientific dataset from any institution in the world, preview it, then stream the data out at high speed, in the format you prefer. We have the technology - here's what we should build.\n","date":"2025-01-18","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open-science","frost"],"level":3},{"level":2,"title":"2024"},{"slug":"blog.2024.datatree","title":"Xarray x NASA: xarray.DataTree for hierarchical data structures","description":"How xarray's new DataTree feature came about, and thoughts on how public agencies can support the open-source scientific software that they depend on.\n","date":"2024-12-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","xarray","open-science"],"level":3},{"level":2,"title":"2023"},{"slug":"blog.2023.cubed-xarray","title":"Cubed: Bounded-memory serverless array processing in xarray","description":"Cubed was designed to address the main problems with Dask, so I integrated it with Xarray. \n","date":"2023-06-01","thumbnail":"/build/e35ec725ea00fd2a6250d35dd849930e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","xarray","dask","cubed","open-science"],"level":3},{"slug":"blog.2023.dask-distributed","title":"Dask.distributed and Pangeo: Better performance for everyone thanks to science / software collaboration","description":"Dask's distributed scheduler algorithm got a major fix after we tested its' limits on a huge oceanography analysis problem.\n","date":"2023-01-04","thumbnail":"/build/f8821db67c2a5f1f07b570e6bed342cc.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","dask","open-science"],"level":3},{"level":2,"title":"2022"},{"slug":"blog.2022.easy-ipcc-datatree","title":"Easy IPCC part 1: Multi-Model Datatree","description":"Analysing CMPI6 data as a motivation for xarray DataTree.\n","date":"2022-08-29","thumbnail":"/build/d1061528b3e546e0e4d674dab265d6e2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","xarray","open-science","climate-science","datatree"],"level":3},{"slug":"blog.2022.pint-xarray","title":"Unit-aware arithmetic in Xarray, via pint","description":"All scientific computations involve units, so let's make our analysis software aware of them.\n","date":"2022-08-30","thumbnail":"/build/df49524368335f9010ca432f9849200d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","xarray","pint","open-science","physical-units"],"level":3},{"level":2,"title":"2021"},{"slug":"blog.2020.covid19-model","title":"Coronavirus: The Simplest Model","description":"Solving the simplest possible epidemiological model of the spread of COVID-19.\n","date":"2020-03-20","thumbnail":"/build/SIRD_states-79e33af37731a846467a0f3ded8bf40b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","modelling","covid-19"],"level":3},{"slug":"blog.2020.deep-pseudoscience","title":"The faulty science, doomism, and flawed conclusions of Deep Adaptation","description":"Calling out pseudoscience claiming that societal collapse due to climate change is inevitable. \n","date":"2020-07-14","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["climate-science","misinformation"],"level":3},{"slug":"blog.2020.oxford-divests","title":"Oxford University Divestment Explained","description":"Thought's on Oxford University's fossil fuel divestment motion.\n","date":"2020-04-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["climate","oxford"],"level":3},{"level":2,"title":"2020"},{"slug":"blog.2020.covid19-model-1","title":"Coronavirus: The Simplest Model","description":"Solving the simplest possible epidemiological model of the spread of COVID-19.\n","date":"2020-03-20","thumbnail":"/build/SIRD_states-79e33af37731a846467a0f3ded8bf40b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","modelling","covid-19"],"level":3},{"slug":"blog.2020.deep-pseudoscience-1","title":"The faulty science, doomism, and flawed conclusions of Deep Adaptation","description":"Calling out pseudoscience claiming that societal collapse due to climate change is inevitable. \n","date":"2020-07-14","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["climate-science","misinformation"],"level":3},{"slug":"blog.2020.oxford-divests-1","title":"Oxford University Divestment Explained","description":"Thought's on Oxford University's fossil fuel divestment motion.\n","date":"2020-04-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["climate","oxford"],"level":3},{"level":2,"title":"2019"},{"slug":"blog.2019.theconversation-fusion","title":"Nuclear Fusion: too late for the climate","description":"Don't let politicians use funding for nuclear fusion research as greenwashing.\n","date":"2019-09-30","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["fusion","energy","climate"],"level":3}]}]},"page":{"version":2,"kind":"Notebook","sha256":"5281a68945a5aa8fddc014f8bfa9bd0ae34cd134c9e77d1b7074278ba13ae53d","slug":"blog.2024.datatree","location":"/blog/2024/datatree.md","dependencies":[],"frontmatter":{"title":"Xarray x NASA: xarray.DataTree for hierarchical data structures","description":"How xarray's new DataTree feature came about, and thoughts on how public agencies can support the open-source scientific software that they depend on.\n","tags":["code","python","xarray","open-science"],"date":"2024-12-19","kernelspec":{"name":"python3","display_name":"Python 3"},"authors":[{"id":"tom","nameParsed":{"literal":"Tom Nicholas","given":"Tom","family":"Nicholas"},"name":"Tom Nicholas","orcid":"0000-0002-2176-0530","url":"https://tom-nicholas.com","github":"TomNicholas"}],"github":"https://github.com/TomNicholas/tomnicholas.github.io","abbreviations":{"LF":"The Linux Foundation","JF":"The Jupyter Foundation","JEC":"Jupyter Executive Council","JFB":"The Jupyter Foundation Board","SSC":"Software Steering Council","OSPO":"Open Source Program Office"},"numbering":{"title":{"offset":2}},"edit_url":"https://github.com/TomNicholas/tomnicholas.github.io/blob/main/blog/2024/datatree.md","exports":[{"format":"md","filename":"datatree.md","url":"/build/datatree-9368f8daea1e3a9e52eb1c2fb75579b9.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"(Originally posted on the ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"KYNqv3XjdU"},{"type":"link","url":"https://xarray.dev/blog/datatree","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Xarray blog","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"aP0pGd7ja9"}],"urlSource":"https://xarray.dev/blog/datatree","key":"kwPkMAZJvf"},{"type":"text","value":".)","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"q9TBxNTHtU"}],"key":"b9Xiw2aWMv"},{"type":"heading","depth":2,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"tl;dr","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"jLQmMFnR3C"}],"identifier":"tl-dr","label":"tl;dr","html_id":"tl-dr","implicit":true,"key":"uTiGQmMrNt"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"link","url":"https://docs.xarray.dev/en/stable/user-guide/data-structures.html#datatree","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"inlineCode","value":"xarray.DataTree","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"YccXFamk3O"}],"urlSource":"https://docs.xarray.dev/en/stable/user-guide/data-structures.html#datatree","key":"eumF7djoZn"},{"type":"text","value":" has been ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"kzgSIPDidc"},{"type":"link","url":"https://github.com/pydata/xarray/discussions/9680","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"released","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"q2pIC8QXLj"}],"urlSource":"https://github.com/pydata/xarray/discussions/9680","error":true,"key":"gjyLJG8AeK"},{"type":"text","value":" in ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"FSkCQo8mYD"},{"type":"link","url":"https://github.com/pydata/xarray/releases/tag/v2024.10.0","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"v2024.10.0","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"bWzDTMHtff"}],"urlSource":"https://github.com/pydata/xarray/releases/tag/v2024.10.0","error":true,"key":"pihneaOXRv"},{"type":"text","value":", and the prototype ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"GSllIHF0mV"},{"type":"link","url":"https://github.com/xarray-contrib/datatree","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"inlineCode","value":"xarray-contrib/datatree","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"hK5rDyz16N"},{"type":"text","value":" repository","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"kvHNauZJnf"}],"urlSource":"https://github.com/xarray-contrib/datatree","error":true,"key":"xTmnhMRzi2"},{"type":"text","value":" archived, after collaboration between the xarray team and the ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"scdk7ssZaB"},{"type":"link","url":"https://www.earthdata.nasa.gov/about/esdis","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"NASA ESDIS project","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"CvXxPg2URZ"}],"urlSource":"https://www.earthdata.nasa.gov/about/esdis","key":"fr3893nubs"},{"type":"text","value":". 🤝","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"vAdDrU32VF"}],"key":"v8Y4bRMYgY"},{"type":"heading","depth":2,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Why trees?","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Xfy8lj2jI4"}],"identifier":"why-trees","label":"Why trees?","html_id":"why-trees","implicit":true,"key":"dQ3gv4LquD"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"The DataTree concept allows for organizing heterogeneous collections of scientific data in the same way that a nested directory structure facilitates organizing large numbers of files on disk. It does so in a way that preserves common structure between data in the collections, such as aligned arrays and common coordinates.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"LRPbOBCpQF"}],"key":"GBuhv24QBu"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"For those familiar with netCDF4/Zarr groups, a DataTree can also be thought of as an in-memory representation of a file’s group structure. Xarray users have been ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"JUWaaZJJMY"},{"type":"link","url":"https://github.com/pydata/xarray/issues/4118","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"asking","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"DOLPDpcgFd"}],"urlSource":"https://github.com/pydata/xarray/issues/4118","data":{"kind":"issue","org":"pydata","repo":"xarray","issue_number":"4118"},"internal":false,"protocol":"github","key":"n12d2PnS3x"},{"type":"text","value":" for a way to handle multiple netCDF4 groups ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"Xer16hxCwO"},{"type":"link","url":"https://github.com/pydata/xarray/issues/1092","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"since at least 2016","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"PeKG7PbH1w"}],"urlSource":"https://github.com/pydata/xarray/issues/1092","data":{"kind":"issue","org":"pydata","repo":"xarray","issue_number":"1092"},"internal":false,"protocol":"github","key":"fCV3v666Tb"},{"type":"text","value":"!","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"tlBro0bINK"}],"key":"xbb7PRapzl"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"DataTree enables xarray to be used for various new use cases, including:","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"gpj7lRHoDy"}],"key":"OglKZ7Q0Gk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":30,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"link","url":"https://medium.com/pangeo/easy-ipcc-part-1-multi-model-datatree-469b87cf9114","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Climate model intercomparisons","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"O0NeOMpVZf"}],"urlSource":"https://medium.com/pangeo/easy-ipcc-part-1-multi-model-datatree-469b87cf9114","key":"RupbahBItG"},{"type":"text","value":",","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"axchcE3j9K"}],"key":"RAAd1ZN9ul"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Multi-scale image pyramids, e.g. in ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"axAwYRuPW9"},{"type":"link","url":"https://spatialdata.scverse.org/en/latest/design_doc.html","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"genomics","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"zhsQ44xa3r"}],"urlSource":"https://spatialdata.scverse.org/en/latest/design_doc.html","key":"EPMjFxQI8T"},{"type":"text","value":",","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"iofeXPT3E8"}],"key":"tt2Z6Tszci"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Organising heterogenous data, such as satellite observations and model simulations.","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"GfuNWDnQEG"}],"key":"XD4QHL0jiR"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Simple and convenient access to entire hierarchical files.","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"xcLczfyVNX"}],"key":"Elyo5llqC4"}],"key":"amWuTLm1zM"},{"type":"heading","depth":2,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"What is a DataTree exactly?","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"X2ufzPBEW2"}],"identifier":"what-is-a-datatree-exactly","label":"What is a DataTree exactly?","html_id":"what-is-a-datatree-exactly","implicit":true,"key":"cRCPSUV5Ys"},{"type":"paragraph","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"The new high-level container class ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"gaxStAYHSB"},{"type":"inlineCode","value":"xarray.DataTree","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"RVrg4BTJH3"},{"type":"text","value":" acts like a tree of linked ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"cnIorIcHGa"},{"type":"inlineCode","value":"xarray.Dataset","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"BliS82tWzP"},{"type":"text","value":" objects, with alignment enforced between arrays in parent and child nodes, but not between those in sibling nodes. It can be written to and opened from formats containing multiple groups, such as netCDF4 files and Zarr stores.","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"ks4PKCiLz1"}],"key":"BynTL5xL7I"},{"type":"paragraph","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"For more details please see the ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"eNEIB4eI84"},{"type":"link","url":"https://docs.xarray.dev/en/stable/user-guide/data-structures.html#datatree","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"high-level description","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"RgzEIJTsr5"}],"urlSource":"https://docs.xarray.dev/en/stable/user-guide/data-structures.html#datatree","key":"bC33yirI0b"},{"type":"text","value":", the ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"iVw0Q6D8HF"},{"type":"link","url":"https://docs.xarray.dev/en/stable/user-guide/hierarchical-data.html","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"dedicated page on hierarchical data","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"q5ekCA5Tvm"}],"urlSource":"https://docs.xarray.dev/en/stable/user-guide/hierarchical-data.html","key":"UI3fcsJOeK"},{"type":"text","value":", and the ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"joccgv4XBo"},{"type":"link","url":"https://docs.xarray.dev/en/stable/user-guide/io.html#groups","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"section on IO with groups","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"PPz9MbctCX"}],"urlSource":"https://docs.xarray.dev/en/stable/user-guide/io.html#groups","key":"DH6v98KDkk"},{"type":"text","value":" in the xarray documentation.","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"akk2j2uYXe"}],"key":"kvsraehyKp"},{"type":"heading","depth":2,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"Deprecation","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"H3ahLmXyb1"}],"identifier":"deprecation","label":"Deprecation","html_id":"deprecation","implicit":true,"key":"MfHA6az9G3"},{"type":"paragraph","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"If you previously had used the ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"RjoMo2pTGv"},{"type":"inlineCode","value":"datatree.DataTree","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"ppu7uFkW3t"},{"type":"text","value":" prototype in the ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"TizG1EOUwB"},{"type":"link","url":"https://github.com/xarray-contrib/datatree","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"inlineCode","value":"xarray-contrib/datatree","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"BotDNju0ct"},{"type":"text","value":" repository","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"b1IKXX3EMs"}],"urlSource":"https://github.com/xarray-contrib/datatree","error":true,"key":"v7vYWsWnQE"},{"type":"text","value":", that has now been archived and will no longer be supported. Instead we encourage you to migrate to the implementation of ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"B6fFgFNnxe"},{"type":"inlineCode","value":"DataTree","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"SH3b8pX0kq"},{"type":"text","value":" that you can import from xarray, following the ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"sVCR3BbDn6"},{"type":"link","url":"https://github.com/pydata/xarray/blob/main/DATATREE_MIGRATION_GUIDE.md","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"migration guide","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"VZLe7ZlNZ7"}],"urlSource":"https://github.com/pydata/xarray/blob/main/DATATREE_MIGRATION_GUIDE.md","data":{"kind":"file","org":"pydata","repo":"xarray","reference":"main","file":"DATATREE_MIGRATION_GUIDE.md","raw":"https://raw.githubusercontent.com/pydata/xarray/main/DATATREE_MIGRATION_GUIDE.md"},"internal":false,"protocol":"github","key":"VbS82eikXr"},{"type":"text","value":".","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"SFEhBXerV8"}],"key":"jBI4d183ed"},{"type":"heading","depth":2,"position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"Big moves","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"c4f3CGvMhV"}],"identifier":"big-moves","label":"Big moves","html_id":"big-moves","implicit":true,"key":"ksuDbFjPNf"},{"type":"paragraph","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"This was a big feature addition! For a ","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"F2yDvLWbfE"},{"type":"link","url":"https://github.com/pydata/xarray/discussions/8462","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"decade","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"btc1ymysEy"}],"urlSource":"https://github.com/pydata/xarray/discussions/8462","error":true,"key":"izAcgvicc9"},{"type":"text","value":" there have been 3 core public xarray data structures, now there are 4: ","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"abr6ijRSq1"},{"type":"link","url":"https://docs.xarray.dev/en/stable/generated/xarray.Variable.html#xarray.Variable","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"inlineCode","value":"Variable","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"IlE5c9Jp8m"}],"urlSource":"https://docs.xarray.dev/en/stable/generated/xarray.Variable.html#xarray.Variable","key":"hzSbop8Khy"},{"type":"text","value":", ","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"MMdvwOiZnr"},{"type":"link","url":"https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"inlineCode","value":"DataArray","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"jBrUScDsCM"}],"urlSource":"https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray","key":"FVG8czfGIS"},{"type":"text","value":", ","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"AiFo6vIh1w"},{"type":"link","url":"https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"inlineCode","value":"Dataset","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"AHV4zUA6sb"}],"urlSource":"https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset","key":"BpMuyapMCd"},{"type":"text","value":", and now ","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"BQkAg50ccd"},{"type":"link","url":"https://docs.xarray.dev/en/stable/generated/xarray.DataTree.html#xarray.DataTree","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"inlineCode","value":"DataTree","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"J3RDN74oqc"}],"urlSource":"https://docs.xarray.dev/en/stable/generated/xarray.DataTree.html#xarray.DataTree","key":"hTmaZecB6F"},{"type":"text","value":".","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"AFISLkC4QO"}],"key":"MSNFdWsIso"},{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"Datatree represents arguably one of the largest new features added to xarray in 10 years - the migration of the existing prototype alone added \u003e10k lines of code across ","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"EmLr2JijlD"},{"type":"link","url":"https://github.com/pydata/xarray/pulls?q=is%3Apr+label%3Atopic-DataTree+is%3Aclosed","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"80 pull requests","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"NymQGIc44k"}],"urlSource":"https://github.com/pydata/xarray/pulls?q=is%3Apr+label%3Atopic-DataTree+is%3Aclosed","error":true,"key":"pBX3mn6L81"},{"type":"text","value":", and the resulting datatree implementation now contains contributions from at least 25 people.","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"sSmfQb0fou"}],"key":"p6M1sTouUr"},{"type":"paragraph","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"We also had to resolve some really ","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"zsVXgZFQLo"},{"type":"link","url":"https://github.com/pydata/xarray/pull/9063","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"gnarly design questions","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"zryFxEH8Ya"}],"urlSource":"https://github.com/pydata/xarray/pull/9063","data":{"kind":"issue","org":"pydata","repo":"xarray","issue_number":"9063"},"internal":false,"protocol":"github","key":"TkMVaxMmQi"},{"type":"text","value":" to make it work in a way we were happy with.","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"JDEH7Y9wiG"}],"key":"oyySBuMpQ7"},{"type":"heading","depth":2,"position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"How did this happen?","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"dprNe9q5vN"}],"identifier":"how-did-this-happen","label":"How did this happen?","html_id":"how-did-this-happen","implicit":true,"key":"IzfIEkEOy6"},{"type":"paragraph","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"DataTree didn’t get implemented overnight - it was a multi-year effort that took place in a number of steps, and there are some lessons to be learned from the story.","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"PI6tp2d13Z"}],"key":"QgS32CUv0z"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"In March 2021, the xarray team submitted a ","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"Rx4cmKl6QR"},{"type":"link","url":"https://zenodo.org/records/5484176","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"funding proposal","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"IkqA59r6eO"}],"urlSource":"https://zenodo.org/records/5484176","key":"QNrToR24Vt"},{"type":"text","value":" to the ","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"IlF6YKNbnx"},{"type":"link","url":"https://chanzuckerberg.com/eoss/","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"Chan-Zuckerberg Initiative","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"y1NHgdO7Ox"}],"urlSource":"https://chanzuckerberg.com/eoss/","key":"FtuUsae85W"},{"type":"text","value":" to develop “TreeDataset”, citing bioscience use cases such as ","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"KEXBJo9aWI"},{"type":"link","url":"https://spatialdata.scverse.org/en/latest/design_doc.html","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"microscopy image pyramids","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"JkDzls4Q4l"}],"urlSource":"https://spatialdata.scverse.org/en/latest/design_doc.html","key":"ZbrNapxB6n"},{"type":"text","value":". Unfortunately whilst we’ve been lucky to ","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"pBw3r1KdDs"},{"type":"link","url":"https://chanzuckerberg.com/eoss/proposals/xarray-multidimensional-labeled-arrays-and-datasets-in-python/","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"receive CZI funding before","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"Z3Vyqfp5i4"}],"urlSource":"https://chanzuckerberg.com/eoss/proposals/xarray-multidimensional-labeled-arrays-and-datasets-in-python/","key":"HvifJJkLog"},{"type":"text","value":", on this occasion we didn’t win money to work on the datatree idea.","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"AQ5oLFQB5m"}],"key":"Xy5PybPYr3"},{"type":"paragraph","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"text","value":"In the absence of dedicated funding for datatree, Tom then used some time whilst at the ","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"HaTepH4L7F"},{"type":"link","url":"https://ocean-transport.github.io/cds_lab.html","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"text","value":"Climate Data Science Lab","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"Itu0CCJKEs"}],"urlSource":"https://ocean-transport.github.io/cds_lab.html","key":"Y8O3LxbaWs"},{"type":"text","value":" at Columbia University to take a initial stab at the design in August 2021 - writing the first implementation on an overnight Amtrak! This simple prototype was released as a separate package in the ","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"nGtFhl8FSs"},{"type":"link","url":"https://github.com/xarray-contrib/datatree","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"inlineCode","value":"xarray-contrib/datatree","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"adFMvpZ4Kj"},{"type":"text","value":" repository","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"f1KMTPCfxI"}],"urlSource":"https://github.com/xarray-contrib/datatree","error":true,"key":"XiIa7pqNf2"},{"type":"text","value":", and steadily gained a small community of intrepid users. It was driven partly by the use case of ","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"q2qZIMD6Hl"},{"type":"link","url":"https://medium.com/pangeo/easy-ipcc-part-1-multi-model-datatree-469b87cf9114","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"text","value":"climate model intercomparison datasets","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"h9scG2BnLM"}],"urlSource":"https://medium.com/pangeo/easy-ipcc-part-1-multi-model-datatree-469b87cf9114","key":"X2PIErohp6"},{"type":"text","value":".","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"cjYm4y4lvD"}],"key":"sRQUrJGgjc"},{"type":"paragraph","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"text","value":"A separate repository was chosen for speed of iteration, and to be able to more easily ","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"WUtflcjLLm"},{"type":"link","url":"https://github.com/xarray-contrib/datatree/blob/7ba05880c37f2371b5174f6e8dcfae31248fe19f/README.md#development-roadmap","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"text","value":"make changes","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"Id8DZY9jLT"}],"urlSource":"https://github.com/xarray-contrib/datatree/blob/7ba05880c37f2371b5174f6e8dcfae31248fe19f/README.md#development-roadmap","data":{"kind":"file","org":"xarray-contrib","repo":"datatree","reference":"7ba05880c37f2371b5174f6e8dcfae31248fe19f","file":"README.md","raw":"https://raw.githubusercontent.com/xarray-contrib/datatree/7ba05880c37f2371b5174f6e8dcfae31248fe19f/README.md"},"internal":false,"protocol":"github","key":"fKZvWjrYN7"},{"type":"text","value":" without worrying as much about ","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"MPm7W1Zdb9"},{"type":"link","url":"https://github.com/pydata/xarray/issues/9854","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"text","value":"backwards compatibility","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"ph3fMEqCou"}],"urlSource":"https://github.com/pydata/xarray/issues/9854","data":{"kind":"issue","org":"pydata","repo":"xarray","issue_number":"9854"},"internal":false,"protocol":"github","key":"Txp18H2eLN"},{"type":"text","value":" as code in xarray’s main repo does. However the separate repo meant that the prototype ","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"TOQukzHDDS"},{"type":"inlineCode","value":"datatree","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"KlQkM2gZKa"},{"type":"text","value":" library was not fully integrated with xarray’s main codebase, limiting possible features and requiring fragile dependencies on private xarray internals.","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"kuftBkjqjZ"}],"key":"TYt8qH6fiR"},{"type":"paragraph","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"text","value":"The prototype then sat there for 2 years, until the NASA ESDIS team approached the xarray core team in August 2023. ESDIS devs wanted the ability to work with entire hierarchical files, and had experimented with the prototype version of datatree, but they wanted datatree functionality to be migrated upstream into xarray’s main repository so there would be more guarantees of long-term API stability and support.","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"kYvFoddyZN"}],"key":"iYevruuz9R"},{"type":"paragraph","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"Amazingly NASA were able to offer the time of 3 engineers: Owen (NASA EOSDIS Evolution and Development 3 (EED-3) contract), Matt (NASA National Snow and Ice Data Center Distributed Active Archive Center (NSIDC)), and Eni (Goddard Earth Sciences Data and Information Services Center (GES DISC)). So starting in late 2023 the NASA trio worked on migrating the prototype datatree into xarray upstream, with regular supervision from Tom, Justus, and Stephan (existing xarray core team).","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"mMIOBviZdj"}],"key":"Ozw9Ub7xN8"},{"type":"paragraph","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"This second stage of development allowed us to reduce the bus factor on the datatree code, sanity check the original approach, and it gave us a chance to make some significant improvements to the design without backwards-compatibility concerns (for example enabling the ","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"tSMEhIWhh4"},{"type":"link","url":"https://docs.xarray.dev/en/stable/user-guide/hierarchical-data.html#alignment-and-coordinate-inheritance","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"new “coordinate inheritance” feature","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"KF03jhkTtU"}],"urlSource":"https://docs.xarray.dev/en/stable/user-guide/hierarchical-data.html#alignment-and-coordinate-inheritance","key":"n8jnx9eBYq"},{"type":"text","value":").","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"BPUzWWcUjh"}],"key":"Nq1Ahus2k0"},{"type":"heading","depth":2,"position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"Lessons for future collaborations","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"FCKPQMQVXy"}],"identifier":"lessons-for-future-collaborations","label":"Lessons for future collaborations","html_id":"lessons-for-future-collaborations","implicit":true,"key":"A5mu2SfX9A"},{"type":"paragraph","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"This development story is different from the more typical scientific grant funding model - how did that work out for us?","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"yNzKv7BFDf"}],"key":"hRL0Mv2Swf"},{"type":"paragraph","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"text","value":"The scientific grant model for funding software expects you to present a full idea in a proposal, wait 6-12 months to hopefully get funding for it, then implement the whole thing during the grant period. In contrast datatree evolved over a gradual process of moving from ideas to hacky prototype to robust implementation, with big time gaps for user feedback and experimentation. The migration was completed by developer-users who actually wanted the feature, rather than grant awardees working in service of a separate and maybe-only-theoretical userbase.","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"lnNbDCPWyK"}],"key":"c04EOqTEnw"},{"type":"paragraph","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"Overall while the migration effort took longer than anticipated we think it worked out quite well!","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"ASXwNeThjc"}],"key":"Pew6VBWS1i"},{"type":"heading","depth":3,"position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"text","value":"Pros","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"hkpPPz0c1E"}],"identifier":"pros","label":"Pros","html_id":"pros","implicit":true,"key":"hzf9Dn9P4f"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":79,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"strong","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"text","value":"Zero overhead","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"Yn9oe6gNed"}],"key":"th2W1ONCTs"},{"type":"text","value":" - the existing xarray team did not to have to write a proposal to get developer time, and there was literally zero paperwork inflicted (on them at least).","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"AWV4ecRMvj"}],"key":"KEamHBEn7E"},{"type":"listItem","spread":true,"position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"strong","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"text","value":"Certainty of funding","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"eDE7OzdMOa"}],"key":"xGSCOyOEuh"},{"type":"text","value":" - writing grant proposals is a lottery, so the time invested up front doesn’t even come with any certainty of funding. Collaborating with another org has a much higher chance of actually leading to more money being available for developer time.","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"XPUfeyx4h9"}],"key":"B4ERiwabjl"},{"type":"listItem","spread":true,"position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"strong","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"text","value":"Time efficient","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"saMIho1EpT"}],"key":"vUQ6zYwSpj"},{"type":"text","value":" - an xarray core dev spending 10% of their time advising someone who is less familiar with the codebase but has more time is an efficient use of relative expertise.","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"RoqqrqnY0o"}],"key":"XnGTKKe762"},{"type":"listItem","spread":true,"position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"strong","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"text","value":"Bus factor","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"vly83QlzXU"}],"key":"zARyBVHYvy"},{"type":"text","value":" - the new contributors reduced the bus factor on the datatree code dramatically.","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"mU71LyIC7V"}],"key":"iPc0GHxdXI"},{"type":"listItem","spread":true,"position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"strong","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"text","value":"User-driven Development","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"OlAbCsVSqZ"}],"key":"Xqoao7O4Ho"},{"type":"text","value":" - it makes sense to have actual interested user communities involved in development.","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"EuZj2xIeDq"}],"key":"b3rzd43UKb"},{"type":"listItem","spread":true,"position":{"start":{"line":84,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"strong","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"Stakeholder representation","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"fZbsqnMEw5"}],"key":"eovZpVPA2L"},{"type":"text","value":" - after officially adding Owen, Matt and Eni to the ","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"mmu8PQt18m"},{"type":"link","url":"https://xarray.dev/team","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"xarray core team","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"cnq23jPCD4"}],"urlSource":"https://xarray.dev/team","key":"TDZkHOeptS"},{"type":"text","value":", the NASA ESDIS project has some direct representation in, insider understanding of, and stake in continuing to support the xarray project.","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"F7OL43hwkX"}],"key":"CzHwcXgBVo"}],"key":"tVnEjVNbwI"},{"type":"heading","depth":3,"position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"text","value":"Cons","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"key":"ROneJqi5Mj"}],"identifier":"cons","label":"Cons","html_id":"cons","implicit":true,"key":"Gd9lqJAnFD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":88,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"strong","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"Not everyone got direct funding","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"UKxc6XJNsS"}],"key":"W115BNqApX"},{"type":"text","value":" - It’s less ideal that Tom, Justus, and Stephan didn’t get direct funding for their supervisory work. In future it might be better to have one of the paid people at the contributing org already be a core xarray team member, or perhaps find some way to pay them as a consultant.","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"vUkQNcmcFE"}],"key":"LLav2UkhFn"},{"type":"listItem","spread":true,"position":{"start":{"line":89,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"strong","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"text","value":"Tricky to accurately scope","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"LUIT7HqxI2"}],"key":"wS2XOEC3Tr"},{"type":"text","value":" - The duration of required work was tricky to estimate in advance, and we didn’t want to “just ship it”. We hold the xarray project to high standards and backwards compatibility promises so we want to ensure that any publicly released features don’t compromise on quality.","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"mvYfomFdb8"}],"key":"iJiPKHgqbI"}],"key":"XtCIARRGDp"},{"type":"paragraph","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"text","value":"This contributing model is more similar to how open-source software has historically been supported by industry, but perhaps because xarray is primarily developed and used by the scientific community we tend to default to more grant-based funding models.","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"gQ5zStSRXs"}],"key":"rP9BR6IA72"},{"type":"paragraph","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"text","value":"Overall we think this type of collaboration could work again in future! So if there is an xarray or xarray-adjacent feature your organisation would like to see, ","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"hyxpMn4kLT"},{"type":"strong","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"text","value":"please reach out to us","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"fRhd6p26u0"}],"key":"cvstDSpgh1"},{"type":"text","value":".","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"trA8CwEPbM"}],"key":"nqu1Sixx2u"},{"type":"heading","depth":2,"position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"Go try out DataTree","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"etQ2xe2D9P"}],"identifier":"go-try-out-datatree","label":"Go try out DataTree","html_id":"go-try-out-datatree","implicit":true,"key":"mzqpsgTPud"},{"type":"paragraph","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"text","value":"Please try datatree out! The hierarchical structure is potentially useful to any xarray users who work with more than one dataset at a time. Simply do ","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"JI8qd7APjQ"},{"type":"inlineCode","value":"from xarray import DataTree","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"bwYkMuGcHI"},{"type":"text","value":" or call ","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"XCUVoBUqmI"},{"type":"link","url":"https://docs.xarray.dev/en/stable/generated/xarray.open_datatree.html","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"inlineCode","value":"open_datatree(...)","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"Cc6pytSwxX"}],"urlSource":"https://docs.xarray.dev/en/stable/generated/xarray.open_datatree.html","key":"t9sjBADLlP"},{"type":"text","value":" on a netCDF4 file / Zarr store containing multiple groups.","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"prAFIva2Xd"}],"key":"ls8VZkzaqA"},{"type":"paragraph","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"Be aware that as ","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"VOQl2oV91P"},{"type":"inlineCode","value":"xarray.DataTree","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"Ma1BMWZ8Xr"},{"type":"text","value":" is still new there will likely be some bugs lurking or places that performance could be improved, as well as as-yet ","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"SGC3oOcf6P"},{"type":"link","url":"https://github.com/pydata/xarray/issues?q=is%3Aissue+is%3Aopen+label%3Atopic-DataTree","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"unimplemented features","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"ThOmeBuON1"}],"urlSource":"https://github.com/pydata/xarray/issues?q=is%3Aissue+is%3Aopen+label%3Atopic-DataTree","error":true,"key":"Mzzx7OhFbB"},{"type":"text","value":" (as there always are)!","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"KK8rRiHL1Z"}],"key":"t9wGF0Ycfg"},{"type":"heading","depth":2,"position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"text","value":"Thanks","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"ek1f1r4SEy"}],"identifier":"thanks","label":"Thanks","html_id":"thanks","implicit":true,"key":"Hf2Wgzr688"},{"type":"paragraph","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"A number of other people also ","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"sKIz483hlp"},{"type":"link","url":"https://github.com/xarray-contrib/datatree/graphs/contributors","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"contributed to datatree","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"Cg0y9eQZfr"}],"urlSource":"https://github.com/xarray-contrib/datatree/graphs/contributors","error":true,"key":"dkrdSXGcyn"},{"type":"text","value":" in various ways - particular shoutout to ","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"kgXTxUFR6i"},{"type":"link","url":"https://github.com/aladinor","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"Alfonso Ladino","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"kVv8JOhpUY"}],"urlSource":"https://github.com/aladinor","error":true,"key":"QrcLzvOigl"},{"type":"text","value":" and ","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"MBeuQym3eD"},{"type":"link","url":"https://github.com/etienneschalk","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"Etienne Schalk","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"RXky9mhf2D"}],"urlSource":"https://github.com/etienneschalk","error":true,"key":"HlDtWJ4UzF"},{"type":"text","value":" for their dedicated attendance at many of the ","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"oi955Q14N3"},{"type":"link","url":"https://github.com/pydata/xarray/issues/8747","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"weekly migration meetings","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"ozawiehsZr"}],"urlSource":"https://github.com/pydata/xarray/issues/8747","data":{"kind":"issue","org":"pydata","repo":"xarray","issue_number":"8747"},"internal":false,"protocol":"github","key":"uKtTLAXjI5"},{"type":"text","value":"!","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"oPMiE9JqxF"}],"key":"UidRv7gcpt"},{"type":"heading","depth":2,"position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"Funding Acknowledgements","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"b0VLTBqQi7"}],"identifier":"funding-acknowledgements","label":"Funding Acknowledgements","html_id":"funding-acknowledgements","implicit":true,"key":"M9PRxYA9XY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":107,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"Owen, Eni, and Matt were able to contribute development time as part of the ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"Rn7sg81cKv"},{"type":"link","url":"https://www.earthdata.nasa.gov/about/esdis","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"NASA ESDIS project","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"TNHkllVZOd"}],"urlSource":"https://www.earthdata.nasa.gov/about/esdis","key":"ZLLagb7cTY"},{"type":"text","value":".","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"NNpy1rfOWb"}],"key":"pfE3twI210"},{"type":"listItem","spread":true,"position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"Tom was supported first by the Gordon and Betty Moore foundation as part of Ryan Abernathey’s ","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"Svztc3o4eQ"},{"type":"link","url":"https://ocean-transport.github.io/cds_lab.html","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"Climate Data Science Lab","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"Z9R0fn3A1H"}],"urlSource":"https://ocean-transport.github.io/cds_lab.html","key":"UCWOu9naVZ"},{"type":"text","value":" at Columbia University, then later by various funders for a fraction of his time through ","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"gzgrymPULu"},{"type":"link","url":"https://www.cworthy.org/","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"[C]Worthy","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"w6K6jPR9Vp"}],"urlSource":"https://www.cworthy.org/","key":"FlDCxtd5Am"},{"type":"text","value":".","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"Y2AgSDfE3o"}],"key":"pSipkwW4zB"}],"key":"GfBjwuOW1a"}],"key":"enrkMzW8YM"}],"key":"pRY8AtNgrv"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Science needs a social network for sharing big data","url":"/blog/2025/science-needs-a-social-network","group":"2025"},"next":{"title":"Cubed: Bounded-memory serverless array processing in xarray","url":"/blog/2023/cubed-xarray","group":"2023"}}},"domain":"http://localhost:3000"},"project":{"abbreviations":{"LF":"The Linux Foundation","JF":"The Jupyter Foundation","JEC":"Jupyter Executive Council","JFB":"The Jupyter Foundation Board","SSC":"Software Steering Council","OSPO":"Open Source Program Office"},"title":"Welcome","thumbnail":"/build/profile-color-circle-7c2e1e5191087ee658b792ad23f702cd.png","authors":[{"id":"tom","nameParsed":{"literal":"Tom Nicholas","given":"Tom","family":"Nicholas"},"name":"Tom Nicholas","orcid":"0000-0002-2176-0530","url":"https://tom-nicholas.com","github":"TomNicholas"}],"github":"https://github.com/TomNicholas/tomnicholas.github.io","references":{"ttw":{"url":"https://book.the-turing-way.org"}},"toc":[{"file":"index.md"},{"file":"about.md"},{"file":"talks.md"},{"children":[{"children":[{"pattern":"blog/2025/**{.ipynb,.md}"}],"title":"2025"},{"children":[{"pattern":"blog/2024/**{.ipynb,.md}"}],"title":"2024"},{"children":[{"pattern":"blog/2023/**{.ipynb,.md}"}],"title":"2023"},{"children":[{"pattern":"blog/2022/**{.ipynb,.md}"}],"title":"2022"},{"children":[{"pattern":"blog/2020/**{.ipynb,.md}"}],"title":"2021"},{"children":[{"pattern":"blog/2020/**{.ipynb,.md}"}],"title":"2020"},{"children":[{"pattern":"blog/2019/**{.ipynb,.md}"}],"title":"2019"}],"file":"blog.md"}],"exports":[],"bibliography":[],"index":"index","pages":[{"slug":"about","title":"About me","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"talks","title":"Talks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"blog","title":"Blog","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"level":2,"title":"2025"},{"slug":"blog.2025.cloud-optimized-scientific-data","title":"Fundamentals: What is Cloud-Optimized Scientific Data?","description":"The article I wish I could have read back when I first heard of Zarr in 2018. Explains how object storage and conventional filesystems are different, and the key properties that make Zarr work so well in cloud object storage.\n","date":"2025-04-17","thumbnail":"/build/hdf5-layout-71275b3a3dff5396e3c059a6ee9efa71.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cloud","zarr","netcdf","earthmover","open-science"],"level":3},{"slug":"blog.2025.science-needs-a-social-network","title":"Science needs a social network for sharing big data","description":"Imagine being able to visit one website, search for any scientific dataset from any institution in the world, preview it, then stream the data out at high speed, in the format you prefer. We have the technology - here's what we should build.\n","date":"2025-01-18","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open-science","frost"],"level":3},{"level":2,"title":"2024"},{"slug":"blog.2024.datatree","title":"Xarray x NASA: xarray.DataTree for hierarchical data structures","description":"How xarray's new DataTree feature came about, and thoughts on how public agencies can support the open-source scientific software that they depend on.\n","date":"2024-12-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","xarray","open-science"],"level":3},{"level":2,"title":"2023"},{"slug":"blog.2023.cubed-xarray","title":"Cubed: Bounded-memory serverless array processing in xarray","description":"Cubed was designed to address the main problems with Dask, so I integrated it with Xarray. \n","date":"2023-06-01","thumbnail":"/build/e35ec725ea00fd2a6250d35dd849930e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","xarray","dask","cubed","open-science"],"level":3},{"slug":"blog.2023.dask-distributed","title":"Dask.distributed and Pangeo: Better performance for everyone thanks to science / software collaboration","description":"Dask's distributed scheduler algorithm got a major fix after we tested its' limits on a huge oceanography analysis problem.\n","date":"2023-01-04","thumbnail":"/build/f8821db67c2a5f1f07b570e6bed342cc.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","dask","open-science"],"level":3},{"level":2,"title":"2022"},{"slug":"blog.2022.easy-ipcc-datatree","title":"Easy IPCC part 1: Multi-Model Datatree","description":"Analysing CMPI6 data as a motivation for xarray DataTree.\n","date":"2022-08-29","thumbnail":"/build/d1061528b3e546e0e4d674dab265d6e2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","xarray","open-science","climate-science","datatree"],"level":3},{"slug":"blog.2022.pint-xarray","title":"Unit-aware arithmetic in Xarray, via pint","description":"All scientific computations involve units, so let's make our analysis software aware of them.\n","date":"2022-08-30","thumbnail":"/build/df49524368335f9010ca432f9849200d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","xarray","pint","open-science","physical-units"],"level":3},{"level":2,"title":"2021"},{"slug":"blog.2020.covid19-model","title":"Coronavirus: The Simplest Model","description":"Solving the simplest possible epidemiological model of the spread of COVID-19.\n","date":"2020-03-20","thumbnail":"/build/SIRD_states-79e33af37731a846467a0f3ded8bf40b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","modelling","covid-19"],"level":3},{"slug":"blog.2020.deep-pseudoscience","title":"The faulty science, doomism, and flawed conclusions of Deep Adaptation","description":"Calling out pseudoscience claiming that societal collapse due to climate change is inevitable. \n","date":"2020-07-14","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["climate-science","misinformation"],"level":3},{"slug":"blog.2020.oxford-divests","title":"Oxford University Divestment Explained","description":"Thought's on Oxford University's fossil fuel divestment motion.\n","date":"2020-04-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["climate","oxford"],"level":3},{"level":2,"title":"2020"},{"slug":"blog.2020.covid19-model-1","title":"Coronavirus: The Simplest Model","description":"Solving the simplest possible epidemiological model of the spread of COVID-19.\n","date":"2020-03-20","thumbnail":"/build/SIRD_states-79e33af37731a846467a0f3ded8bf40b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["code","python","modelling","covid-19"],"level":3},{"slug":"blog.2020.deep-pseudoscience-1","title":"The faulty science, doomism, and flawed conclusions of Deep Adaptation","description":"Calling out pseudoscience claiming that societal collapse due to climate change is inevitable. \n","date":"2020-07-14","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["climate-science","misinformation"],"level":3},{"slug":"blog.2020.oxford-divests-1","title":"Oxford University Divestment Explained","description":"Thought's on Oxford University's fossil fuel divestment motion.\n","date":"2020-04-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["climate","oxford"],"level":3},{"level":2,"title":"2019"},{"slug":"blog.2019.theconversation-fusion","title":"Nuclear Fusion: too late for the climate","description":"Don't let politicians use funding for nuclear fusion research as greenwashing.\n","date":"2019-09-30","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["fusion","energy","climate"],"level":3}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-B2B2E6A5.js";
import * as route0 from "/build/root-IB5726YR.js";
import * as route1 from "/build/routes/$-LXLHKVOR.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-UNPC4GT3.js");</script></body></html>